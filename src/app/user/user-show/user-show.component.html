<header class="masthead" style="background-image: url('assets/theme/img/about-bg.jpg')">
    <div class="overlay"></div>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-md-10 mx-auto">
                <div class="page-heading">
                    <h1>Votre profil</h1>
                    <span class="subheading">Un espace personnel ou trouvé vos privilèges et vos informations
                        personnelles</span>
                </div>
            </div>
        </div>
    </div>
</header>

<form [formGroup]="form" (submit)="handleSubmit()" class="container">
    <div class="control-group">
        <div class="form-group floating-label-form-group controls">
            <input formControlName="firstName" type="text" placeholder="Votre prénom" class="form-control mb-1">

        </div>
    </div>
    <div class="control-group">
        <div class="form-group floating-label-form-group controls">
            <input formControlName="lastName" type="text" placeholder="Votre nom" class="form-control mb-1">


        </div>
    </div>
    <div class="control-group">
        <div class="form-group floating-label-form-group controls">
            <input formControlName="username" type="email" placeholder="Votre adressse email" class="form-control mb-1">
        </div>
    </div>

    <div class=" my-3 ">
        <div class="control-group">
            <h4 class="text-center">Classe(s)</h4>
            <div class="form-group d-flex justify-content-around">
                <div *ngFor="let c of classes" class="mr-4">
                    <input class="form-check-input" type="checkbox" [value]="c" [id]="c"
                        [checked]="user.children.includes(c)" (click)="handleChange(c)">
                    <label class="text-dark floating-label-form-group " [for]="c">
                        {{c}}
                    </label>
                </div>
            </div>
        </div>

        <div>

            <hr>


        </div>
        <div class="form-group controls text-right">
            <input class="form-check-input" type="checkbox" id="newsletter" formControlName="emailNotification"
                [checked]="user.emailNotification">
            <label class="form-check-label floating-label-form-group" for="newsletter">
                Recevoir une notification lors de l'ajout d'un article
            </label>
        </div>
        <hr>
        <div>
            <div class="bg-success text-center text-light" *ngIf="updated">
                Les données ont été mise à jour
            </div>
            <div class="d-flex justify-content-around">

                <button class="button text-info btn m-1">Valider les modifications</button>


                <button class="button text-danger btn m-1" (click)="handleLogout()">Se deconnecter</button>
            </div>

        </div>
    </div>
    <hr>


    <div>
        <h4>Ce que je peux faire</h4>

        <ul *ngIf="!user.roles.includes('ROLE_SCHOOL');else elseBlock">

            <li *ngFor=" let r of user.roles">

                {{translateRole(r) }}
            </li>
        </ul>
        <ng-template #elseBlock>{{translateRole('ROLE_SCHOOL')}}</ng-template>
    </div>

</form>