<div *ngIf="categories" class="container">

    <div class="border border-primary rounded p-3">
        <h1 class="text-center mb-5 ">
            Liste des catégories
        </h1>

        <div class=" text-center">
            <div class="spinner-border text-primary" role="status" *ngIf="!categories">
                <span class="sr-only">Loading...</span>
            </div>
            <table class="table">

                <thead>

                    <th>Titre de la catégorie</th>
                    <th>Nombre d'articles liés</th>
                    <th *ngIf="auth.isModeratorOrAdmin">
                        Admministration</th>

                </thead>
                <tr *ngFor="let cat of categories">

                    <td>

                        <a routerLink="/category/{{cat.id}}"><strong>{{cat.title |uppercase}}</strong></a>
                    </td>
                    <td>

                        {{cat.articles.length}}
                    </td>
                    <td *ngIf="auth.isModeratorOrAdmin ">

                        <a routerLink="/category/edit/{{cat.id}}" class="btn btn-info btn-sm">modifier</a>
                        <button class="btn btn-danger btn-sm" (click)="handleDelete(cat.id)">Supprimer</button>
                    </td>
                </tr>

            </table>
            <hr>
            <div *ngIf="auth.isModeratorOrAdmin">

                <h4>Ajouter une catégorie</h4>
                <form [formGroup]="form" (ngSubmit)='handleSubmit()'>

                    <input type="text" class="form-control mb-2 " formControlName="title"
                        placeholder="Nom de la catégorie">
                    <button class="btn btn-success">Valider</button>
                </form>
            </div>
        </div>
    </div>
</div>
<div class="spinner-border text-primary" role="status" *ngIf="!categories">
    <span class="sr-only">Loading...</span>
</div>